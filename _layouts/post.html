---
layout: page
---

{% if page.banner-image %}
    {% assign banner_pic = site.data.virtual-photography[page.slug][page.banner-image] %}
{% else %}
    {% assign banner_pic = site.data.virtual-photography[page.slug][page.card-image] %}
{% endif %}

{% assign banner_url = banner_pic.url | default: banner_pic.image1080-link %}
{% assign ar = banner_pic.aspectRatio | default: banner_pic.aspect-ratio | plus: 0 %}

<style>
    .image-gallery {overflow: auto; margin-left: -1%!important;}
    .image-gallery a {float: left; display: block; margin: 0 0 1% 1%; width: 19%; text-align: center; text-decoration: none!important;}
    .image-gallery a span {display: block; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; padding: 3px 0;}
    .image-gallery a img {width: 100%; display: block;}

	.vp {
		max-width: 60%;
		margin: auto;
	}

    .pig-wrapper {
        width: 100%;
        position: relative;
    }
    .pig-figure {
        background-color: #202029;
        position: absolute;
        top: 0;
        left: 0;
        transition: opacity 0.3s ease;
    }
    .pig-figure img {
        width: 100%;
        height: 100%;
        display: block;
    }

    .banner {
    height: 300px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 10px;
    position: relative;
    overflow: hidden;
    }

    .banner-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-repeat: no-repeat;
    z-index: 1;
    }

    .banner-text {
    text-align: center;
    color: white;
    text-shadow: 0.1em 0.1em 0.3em black;
    position: relative;
    z-index: 2;
    }

    @media (max-width: 767px) {
    .banner {
        height: 200px;
    }
    }

	@media (max-width: 1920px) {
	.vp {
		max-width: 75%;
		margin: auto;
	}
	}
	
	@media (max-width: 1280px) {
	.vp {
		max-width: 100%;
		margin: auto;
	}
	}
</style>

<div class="vp">
	{% assign banner_offset = page.banner-offset | default: 0 | plus: 0 %}
	{% assign banner_offset_x = page.banner-offset-x | default: 50 | plus: 0 %}
	{% assign banner_zoom = page.banner-zoom | default: 100 | plus: 0 %}
	{% assign banner_container_ar = 5.06 %}
	{% if ar > banner_container_ar %}
		{% assign banner_bg_size = "auto " | append: banner_zoom | append: "%" %}
	{% else %}
		{% assign banner_bg_size = banner_zoom | append: "% auto" %}
	{% endif %}
	<div class="banner">
		<div class="banner-bg" style="background-image: url('{{ banner_url }}'); background-position: {{ banner_offset_x }}% {{ 100 | minus: banner_offset }}%; background-size: {{ banner_bg_size }};"></div>
		<div class="banner-text">
			<h1><strong>{{ page.title }}</strong></h1>
			<p><span class="date"><time datetime="{{ page.date | date_to_xmlschema }}"><strong>{{ page.date | date_to_string}}</strong></time><strong>{% if page.developer %} | {{page.developer}} {% endif %}</strong></span> </p>
		</div>
	</div>

	<div class="pig-wrapper wow animated fadeIn" data-wow-delay=".15s">
		<div id="pig"></div>
	</div>
</div>
<script type="text/javascript" src="../js/pig.js"></script>
<script type="text/javascript">
    {% capture images_json %}
    [
    {% for image in site.data.virtual-photography[page.slug] %}
        {
            "thumb": {{ image.thumb | default: image.thumbnail-link | jsonify }},
            "url": {{ image.url | default: image.imageFull-link | jsonify }},
            "aspectRatio": {{ image.aspectRatio | default: image.aspect-ratio | default: 1.5 | jsonify }}
        }{% unless forloop.last %},{% endunless %}
    {% endfor %}
    ]
    {% endcapture %}
    var imageData = JSON.parse('{{ images_json | strip_newlines | replace: "'", "\\'" }}');
    var pig = new Pig(imageData, {
    addAnchorTag: true,
    anchorClass: "vp-photo-link"
    }).enable();

    // Fancybox initialization
    setTimeout(function() {
        var links = document.querySelectorAll('.vp-photo-link');
        links.forEach(function(link) {
            link.setAttribute('data-fancybox', 'gallery');
            link.setAttribute('data-type', 'image');
        });

        Fancybox.bind('[data-fancybox="gallery"]', {
            Toolbar: {
                display: {
                    left: [],
                    middle: [],
                    right: ["close"]
                }
            },
            Images: {
                zoom: true
            },
            Carousel: {
                infinite: false,
                Dots: false
            }
        });
    }, 500);
</script>